<!DOCTYPE html>
<html>
  <head>
    <title>Lin Reg</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.6/semantic.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.css">
  </head>
  <body>
    <div class="ui segment">
      <h1 class="ui header">Lin Reg</h1>
    </div>

    <div style="max-width: 1200px; margin: 0 auto;">
      <div class="ui segment">
        <h1 class="ui dividing header">Chart</h1>
        <div id="chart"><div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.6/semantic.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.js"></script>

    <script>
      $(function() {
        $.get({
          url: '/data',
          success: function(raw) {
            c3.generate({
              data: {
                xFormat: '%Y-%m-%d %H:%M',
                json: raw,
                keys: {
                  x: 'date',
                  value: ['Raw']
                }
              },
              axis: {
                x: {
                  type: 'timeseries',
                  tick: {
                    format: '%Y-%m-%d'
                  }
                }
              }
            });
          }
        })
      });
    </script>
  </body>
</html>
